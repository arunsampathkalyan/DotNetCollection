@{
    ViewBag.Title = "Ko";
}
<script src="../../Scripts/jquery-1.5.1.min.js" type="text/javascript"></script>
<script src="../../Scripts/jquery.tmpl.js" type="text/javascript"></script>
<script src="../../Ko/knockout-latest.js" type="text/javascript"></script>
<h2>
    Ko Application</h2>    

   <p> First Name  <span data-bind="text:firstName"></span></p>

   <input type="text" data-bind="value:firstName" value="mani" />

   <p> Last Name  <span data-bind="text:lastName"></span></p>

   <input type="text" data-bind="value:lastName" />

   <p> Full Name  <span data-bind="text:fullName"></span></p>

   <ul data-bind="template:{name:'friendsTemplate',foreach:friends}">
   </ul>

   <button data-bind="click:addFriend">Add Friend</button>

   <script id="friendsTemplate" type="text/html">
   
  
        <li>${$data.name} - ${new  Date}</li>
        <button data-bind="click:removeMe">Remove</button>
  
   
   </script>

   <script type="text/javascript">

       function friend(name) {

           return {

               name: ko.observable(name),
               removeMe: function () {

                   person.friends.remove(this);
               }

           };

       }

       var person = {
           firstName: ko.observable("logesh"),
           lastName: ko.observable("Shanmugam"),
           friends: ko.observableArray([new friend("selva"), new friend("renu")]),
           addFriend: function () {
               person.friends.push(new friend("new friend"));
           }
       };

   person.fullName = ko.computed(function () {

       return ko.utils.unwrapObservable(this.firstName) + " " + this.lastName();

   },person);

   ko.applyBindings(person);
   </script>