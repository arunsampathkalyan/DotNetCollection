@{
    ViewBag.Title = "Templating";
}

<h2>Templating</h2>

<script src="../../Scripts/jquery-1.5.1.min.js" type="text/javascript"></script>
<script src="../../Scripts/jquery.tmpl.js" type="text/javascript"></script>
<script src="../../Ko/knockout-latest.js" type="text/javascript"></script>

<p>
    First Name :
    <input data-bind="value:firstName"></input></p>
<p>
    Last Name :
    <input data-bind="value:lastName"></input></p>
<p>
    Full Name : <span data-bind="text:fullName"></span>
</p>
<h2>Friends</h2>

<div data-bind="template:'friendsTemplate'">
</div>


<script id="friendsTemplate" type="text/html">

<ul>   
    {{each(index,friend) friends}}
        <li>${friend.name} - ${new  Date}</li>
    {{/each}}
</ul>

</script>
<script type="text/javascript">
    function friend(name) {
        return {
            name: ko.observable(name)
        };

    }

    var viewModel = {

        firstName: ko.observable("Logesh"),
        lastName: ko.observable("Shanmugam"),
        friends: ko.observableArray([new friend("selva"), new friend("renu")])

    };

    viewModel.fullName = ko.computed(function () {
        return this.firstName() + " " + this.lastName();
    }, viewModel);

    ko.applyBindings(viewModel);


</script>

